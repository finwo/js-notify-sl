!function(e){"function"==typeof define&&define.amd?define(e):(this.notifysl=e(),this.notifysl)}(function(){function a(e,t){e=e.toUpperCase();var n=document.getElementById(t)||document.createElement(e);return n.id=t,document.body.appendChild(n),n}function l(e,t){delete u.openNotifications[e.id],e.element.style.right="-"+2*e.element.offsetWidth+"px",setTimeout(function(){e.element.parentNode.removeChild(e.element)},u.animationDuration)}function c(e,t){return(t=t||document.getElementById("notify-style")||(document.getElementsByClassName("card")||[])[0]||(document.getElementsByClassName("main")||[])[0]||(document.getElementsByClassName("form")||[])[0]||document.body).currentStyle?t.currentStyle[e]:document.defaultView.getComputedStyle(t)[e]}function s(e,t){return Array.isArray(t)?t.map(s.bind(null,e)):"string"==typeof t?e.innerHTML+=t:t instanceof Node&&e.appendChild(t)}var n,o,u=(o={},(n=(n=function(){return u.alert.apply(this,arguments)})||{}).on=function(e,t){return"function"!=typeof t||(o[e]=o[e]||[]).push(t),n},n.trigger=function(e,t){if(!o[e])return t;t=t||!0;var n=this;return args=[].slice.call(arguments),args.shift(),o[e].forEach(function(e){t=e.call(n,t)}),t},n);u.animationDuration=250,u.openNotifications={},u.style={};var m=a("div","notify-sl-container");return Object.assign(m.style,{background:"transparent",position:"fixed",right:"0px",top:"0px"}),u.closeAll=function(){Object.keys(u.openNotifications).forEach(function(e){l(u.openNotifications[e])})},u.open=function(n){var o=(n=u.trigger("open",Object.assign({},n))).callback||function(){};n.closeAll&&u.closeAll();var i={id:function(e){e=e||8;for(var t=0;!isNaN(t);)t=Math.floor(36*Math.random()).toString(36);for(;t.length<e;)t+=Math.floor(36*Math.random()).toString(36);for(;document.getElementById(t);)t+=Math.floor(36*Math.random()).toString(36);return t}()};if(i.element=a("div",i.id),i.callback=n.callback||function(){},i.element.className+=" notify-box",!n.buttons&&!n.timeout)throw new Error("Either buttons or timeout required");if(i.element.style.background=c("background")||"#FFF",i.element.style.borderRadius=c("borderRadius")||"0.2em",i.element.style.boxShadow="0 1px 2px rgba(0,0,0,0.5)",i.element.style.color=c("color")||"#222",i.element.style.marginTop="1em",i.element.style.padding=c("padding")||"1em",i.element.style.position="relative",Object.assign(i.element,u.style,n.style||{}),n.data=u.trigger("data",n.data||{}),n.contents)s(i.element,n.contents);else{var e=document.createElement("h2"),t=document.createElement("p");s(e,document.createTextNode(u.trigger("locale",n.title||""))),s(t,document.createTextNode(u.trigger("locale",n.message||""))),e.style.marginTop=0,t.style.marginBottom=0,e.innerHTML&&s(i.element,e),t.innerHTML&&s(i.element,t)}if(n.buttons){var r=!0;Object.keys(n.buttons).forEach(function(e){var t=document.createElement("button");t.className="btn btn-default",r&&(t.className+=" btn-primary",r=!1),t.innerText=u.trigger("locale",e),t.value=n.buttons[e],n.contents||(t.style.marginTop="1em"),s(i.element,t),function t(n,e,o){return Array.isArray(e)?e.map(function(e){return t(n,e,o)}):Array.isArray(o)?o.map(t.bind(null,n,e)):"function"==typeof o&&(n.addEventListener?n.addEventListener(e,o):!!n.attachEvent&&n.attachEvent("on"+e,o))}(t,"click",[o.bind(null,n.buttons[e]),l.bind(null,i)])})}s(m,i.element),(u.openNotifications[i.id]=i).element.style.right="-"+2*i.element.offsetWidth+"px",i.element.style.transition="right "+u.animationDuration+"ms ease",setTimeout(function(){i.element.style.right="1em",n.timeout&&setTimeout(function(){l(i,o.bind(null,"timeout"))},n.timeout)},10)},u.alert=function(e,t,n,o){return"function"==typeof(n=n||{})&&(o=n,n={}),u.open({closeAll:!1,buttons:n.timeout||n.buttons||{"labels.ok":!0},title:t,message:e,callback:o,data:n,timeout:n.timeout||0})},u.confirm=function(e,t,n,o){return"function"==typeof(n=n||{})&&(o=n,n={}),u.open({closeAll:!1,buttons:n.buttons||{"labels.ok":!0,"labels.cancel":!1},title:t,message:e,callback:o,data:n})},u.prompt=function(e,t,n,o){"function"==typeof(n=n||{})&&(o=n,n={});var i=[],r=document.createElement("h2"),a=document.createElement("p");s(r,document.createTextNode(u.trigger("locale",t||""))),s(a,document.createTextNode(u.trigger("locale",e||"")));var l=document.createElement("form"),c=document.createElement("input");return l.setAttribute("onsubmit","return false;"),Object.keys(n).forEach(function(e){c.setAttribute(e,n[e])}),c.setAttribute("name","prompt"),s(l,c),r.innerHTML&&i.push(r),a.innerHTML&&i.push(a),i.push(l),u.open({closeAll:!0,buttons:n.buttons||{"labels.ok":!0,"labels.cancel":!1},contents:i,data:n,callback:function(e){return o(!!e&&c.value),!!e}})},u});
