// Build by finwo @ Fri Jan 13 09:52:33 CET 2017
!function(t,e){if("function"==typeof define&&define.amd)return define("notify-sl",["jquery"],t);var n=window.$||window.jQuery;if(!n)throw new Error("jQuery is required for notify-sl");e.notifysl=t(n)}(function(t){function e(e,n){delete a.openBoxes[e.id],t(e).css({right:-e.offsetWidth}),setTimeout(function(){"function"==typeof e.dataset.cb&&e.dataset.cb(!1),e.parentNode&&e.parentNode.removeChild(e),"function"==typeof n&&n()},a.animateDuration)}var n=function(){var t=function(){for(var e="0";!isNaN(e);)e=t.randomChar();for(;e.length<n.minLength;)e+=t.randomChar();for(;document.getElementById(e);)e+=t.randomChar();return e};return t.randomChar=function(){return t.alphabet.charAt(Math.round(Math.random()*(t.alphabet.length-1)))},t.minLength=8,t.alphabet="0123456789ABCDEFGHJKMNPQRSTVWXYZ",t}(),o=function(t){var e={};return t=t||{},t.trigger=function(t,n){return n="string"==typeof n?n:n||!0,(e[t]||[]).forEach(function(t){n=n&&t(n)}),n},t.on=function(n,o){return(e[n]=e[n]||[]).push(o),t},t},a=o(function(){return a.open.apply(null,arguments)});return a.animateDuration=250,a.openBoxes={},a.style={background:document.body.style.background||"#1f1d1d",border:"1px solid #292929",color:"#FFF",padding:"1em",top:"1em","max-width":"50%",position:"fixed","z-index":1060},a.closeAll=function(){Object.keys(a.openBoxes).forEach(function(t){e(a.openBoxes[t])})},a.open=function(o){o=a.trigger("open",o),o.closeAll&&a.closeAll();var r=document.createElement("div"),i=t(r),c=o.callback||function(){};if(r.id=n(),r.dataset.cb=c,i.addClass("notify-box"),!o.buttons&&!o.timeout)throw new Error("Either buttons or timeout required");if(i.css(a.style),o.style&&i.css(o.style),o.contents)i.append(o.contents);else{var l=document.createElement("h2"),u=document.createElement("p"),s=t(l),d=t(u);s.text(a.trigger("locale",o.title||"")),d.text(a.trigger("locale",o.message||"")),s.css({marginTop:"0"}),s.text().length&&i.append(s),d.text().length&&i.append(d)}if(o.buttons){var f=!0;t.each(o.buttons,function(n,o){var l=t(document.createElement("button"));l.addClass("btn").addClass("btn-default").text(a.trigger("locale",n)),f&&(l.addClass("btn-primary"),f=!1),l.on("click",c.bind(null,o)).on("click",function(){r.dataset.cb="",e(r)}),i.append(l)})}document.body.appendChild(r),a.openBoxes[r.id]=r,i.css({left:"-100%"}).css({left:"",right:-r.offsetWidth}).css({transition:"right "+a.animateDuration+"ms ease"}),setTimeout(function(){i.css({right:"1em"}).each(function(){o.timeout&&setTimeout(function(){e(r,c.bind(null,"timeout"))},o.timeout)})},10)},a.alert=function(t,e,n,o){"function"==typeof n&&(o=n,n={}),n=n||{},a({closeAll:!0,buttons:n.timeout&&{}||{ok:!0},title:e,message:t,callback:o,data:n,timeout:n.timeout||0})},a.confirm=function(t,e,n,o){"function"==typeof n&&(o=n,n={}),n=n||{},a.open({closeAll:!0,buttons:{"labels.ok":!0,"labels.cancel":!1},title:e,message:t,callback:o,data:n})},a.prompt=function(e,n,o,r){"function"==typeof o&&(r=o,o={}),o=o||{};var i=[],c=t("<h2></h2>"),l=t("<p></p>");c.text(a.trigger("locale",n||"")),l.text(a.trigger("locale",e||""));var u=t("<form onsubmit='return false;'></form>"),s=t("<input/>");Object.keys(o).forEach(function(t){s.prop(t,o[t])}),s.prop("name","prompt"),u.addClass(""),u.append(s),c.text().length&&i.push(c),l.text().length&&i.push(l),i.push(u),a.open({closeAll:!0,buttons:{ok:!0,cancel:!1},contents:i,callback:function(t){return t?(r(s.val()),!0):(r(!1),!0)},data:o})},a});
