// Build by finwo @ ma 12 nov 2018 15:29:06 CET
(function(factory){if(typeof define==="function"&&define.amd){return define(factory)}this.notifysl=factory();return this.notifysl})(function(){var uniqueId=function(){var module=function(){var output=Math.floor(Math.random()*36).toString(36);while(!isNaN(output)){output=Math.floor(Math.random()*36).toString(36)}while(output.length<module.minLength){output+=Math.floor(Math.random()*36*36).toString(36)}while(document.getElementById(output)){output+=Math.floor(Math.random()*36*36).toString(36)}return output};module.minLength=8;return module}();var eventObject=function(){var listeners="function"===typeof Symbol?Symbol("listeners"):function(){var i=12,output="\0";while(i--)output+=Math.floor(Math.random()*36*36).toString(36);return output}();var apply=function(subject){subject=subject||{};subject[listeners]={};subject.__proto__=Object.assign({},subject.__proto__,apply.fn)};apply.fn={emit:function(name,args){args=[].slice.call(arguments);(this[listeners][name]||[]).forEach(function(cb){cb.apply(undefined,args)})},on:function(name,callback){(this[listeners]=this[listeners][name]||[]).push(callback);return this}};apply.fn.trigger=apply.fn.emit;return apply}();function getElement(tag,id){tag=tag.toUpperCase();var element=document.getElementById(id)||document.createElement(tag);1;element.id=id;document.body.appendChild(element);return element}function append(element,contents){if(Array.isArray(contents)){return contents.map(append.bind(null,element))}if("string"===typeof contents){return element.innerHTML+=contents}if(contents instanceof Node){return element.appendChild(contents)}return false}function on(element,event,handler){if(Array.isArray(event)){return event.map(function(e){return on(element,e,handler)})}if(Array.isArray(handler)){return handler.map(on.bind(null,element,event))}if("function"!==typeof handler){return false}if(element.addEventListener){return element.addEventListener(event,handler)}else if(element.attachEvent){return element.attachEvent("on"+event,handler)}else{return false}}function getStyle(element,property){if(element.currentStyle){return element.currentStyle[property]}return document.defaultView.getComputedStyle(element)[property]}var notify=eventObject(function(){return notify.open.apply(null,arguments)});function compileStyle(style){return Object.keys(style).map(function(property){return property+":"+style[property]}).join(";")}var testElement=document.getElementById("notify-style")||(document.getElementsByTagName("main")||[])[0]||(document.getElementsByTagName("form")||[])[0]||document.body;var style={container:{padding:"0",position:"fixed",right:"0",top:"0","z-index":"1060"},containerAfter:{clear:"both",content:'"."',display:"block",height:"0",visibility:"hidden"},notification:{background:getStyle(testElement,"backgroundColor"),"box-shadow":"0 1px 2px rgba(0,0,0,0.5)",color:getStyle(testElement,"color"),"margin-top":"1em",padding:"1em",position:"relative"},notificationParagraph:{"margin-bottom":"1em"},notificationLastChild:{"margin-bottom":"0"}};getElement("style","notify-sl-css").innerHTML="#notify-sl-container {"+compileStyle(style.container)+"}"+"#notify-sl-container:after {"+compileStyle(style.containerAfter)+"}"+"#notify-sl-container .notify-box > p {"+compileStyle(style.notificationParagraph)+"}"+"#notify-sl-container .notify-box {"+compileStyle(style.notification)+"}"+"#notify-sl-container .notify-box > :last-child {"+compileStyle(style.notificationLastChild)+"}";var container=getElement("div","notify-sl-container");notify.animateDuration=250;notify.openBoxes={};notify.style={};function close(box,callback){delete notify.openBoxes[box.id];box.style.right="-"+box.offsetWidth+"px";setTimeout(function(){if(typeof box.dataset.cb==="function"){box.dataset.cb(false)}if(box.parentNode){box.parentNode.removeChild(box)}if(typeof callback==="function"){callback()}},notify.animateDuration)}notify.closeAll=function(){Object.keys(notify.openBoxes).forEach(function(key){close(notify.openBoxes[key])})};notify.open=function(options){options=notify.trigger("open",options);if(options.closeAll){notify.closeAll()}var box=document.createElement("div"),callback=options.callback||function(){};box.id=uniqueId();box.dataset.cb=callback;box.className+=" notify-box";if(!options.buttons&&!options.timeout){throw new Error("Either buttons or timeout required")}box.style=notify.style||{};if(options.style){Object.keys(options.style).forEach(function(key){box.style[key]=options.style[key]})}options.data=notify.trigger("data",options.data||{});if(options.contents){append(box,options.contents)}else{var title=document.createElement("h2"),message=document.createElement("p");append(title,document.createTextNode(notify.trigger("locale",options.title||"")));append(message,document.createTextNode(notify.trigger("locale",options.message||"")));title.style=title.style||{};title.style.marginTop=0;if(title.innerHTML){append(box,title)}if(message.innerHTML){append(box,message)}}if(options.buttons){var firstButton=true;if(Array.isArray(options.buttons)){options.buttons.forEach(function(button){var btn=document.createElement("BUTTON");btn.className="btn btn-default";if(firstButton){btn.className+=" btn-primary";firstButton=false}if(Array.isArray(button)){btn.innerText=notify.trigger("locale",button[0]);on(btn,"click",[callback.bind(null,button[1]),function(){box.dataset.cb="";close(box)}]);if("object"===typeof button[2]&&Array.isArray(button[2])){btn.className+=" "+button[2].join(" ")}}else{btn.innerText=notify.trigger("locale",button.text||"");on(btn,"click",[callback.bind(null,button.value||""),function(){box.dataset.cb="";close(box)}]);if(Array.isArray(button.class)){btn.className+=" "+button.class.join(" ")}}append(box,btn)})}else{Object.keys(options.buttons).forEach(function(key){var button=document.createElement("BUTTON"),value=options.buttons[key];button.className=button.className||"";switch(typeof value){case"object":button.className+=" "+(value.class||"");button.appendChild(document.createTextNode(notify.trigger("locale",value.text||key)));value=value.value||key;break;default:button.appendChild(document.createTextNode(notify.trigger("locale",key)));break}button.className+=" btn";button.className+=" btn-default";if(firstButton){button.className+=" btn-primary";firstButton=false}on(button,"click",[callback.bind(null,value),function(){box.dataset.cb="";close(box)}]);append(box,button)})}}append(container,box);notify.openBoxes[box.id]=box;box.style.left="-100%";box.style.right=-box.offsetWidth;box.style.left="";box.style.transition="right "+notify.animateDuration+"ms ease";setTimeout(function(){box.style.right="1em";if(options.timeout){setTimeout(function(){close(box,callback.bind(null,"timeout"))},options.timeout)}},10)};notify.alert=function(message,title,data,callback){if(typeof data==="function"){callback=data;data={}}data=data||{};notify({closeAll:false,buttons:data.timeout&&{}||(data.buttons||{"labels.ok":true}),title:title,message:message,callback:callback,data:data,timeout:data.timeout||0})};notify.confirm=function(message,title,data,callback){if(typeof data==="function"){callback=data;data={}}data=data||{};notify.open({closeAll:true,buttons:data.buttons||{"labels.ok":true,"labels.cancel":false},title:title,message:message,callback:callback,data:data})};notify.prompt=function(message,title,data,callback){if(typeof data==="function"){callback=data;data={}}data=data||{};var contents=[];var elTitle=document.createElement("H2"),elMessage=document.createElement("P");append(elTitle,document.createTextNode(notify.trigger("locale",title||"")));append(elMessage,document.createTextNode(notify.trigger("locale",message||"")));var form=document.createElement("FORM"),input=document.createElement("INPUT");form.setAttribute("onsubmit","return false;");Object.keys(data).forEach(function(key){input.setAttribute(key,data[key])});input.setAttribute("name","prompt");append(form,input);if(title.innerHTML){contents.push(title)}if(message.innerHTML){contents.push(message)}contents.push(form);notify.open({closeAll:true,buttons:data.buttons||{"labels.ok":true,"labels.cancel":false},contents:contents,callback:function(value){if(value){callback(input.value);return true}callback(false);return true},data:data})};return notify});
