// Build by finwo @ Wed Jan 18 17:40:55 CET 2017
!function(t,e){if("function"==typeof define&&define.amd)return define("notify-sl",["jquery"],t);var n=window.$||window.jQuery;if(!n)throw new Error("jQuery is required for notify-sl");e.notifysl=t(n)}(function(t){function e(e,n){delete i.openBoxes[e.id],t(e).css({right:-e.offsetWidth}),setTimeout(function(){"function"==typeof e.dataset.cb&&e.dataset.cb(!1),e.parentNode&&e.parentNode.removeChild(e),"function"==typeof n&&n()},i.animateDuration)}var n=function(){var t=function(){for(var e="0";!isNaN(e);)e=t.randomChar();for(;e.length<n.minLength;)e+=t.randomChar();for(;document.getElementById(e);)e+=t.randomChar();return e};return t.randomChar=function(){return t.alphabet.charAt(Math.round(Math.random()*(t.alphabet.length-1)))},t.minLength=8,t.alphabet="0123456789ABCDEFGHJKMNPQRSTVWXYZ",t}(),o=function(t){var e={};return t=t||{},t.trigger=function(t,n){return n="string"==typeof n?n:n||!0,(e[t]||[]).forEach(function(t){n=n&&t(n)}),n},t.on=function(n,o){return(e[n]=e[n]||[]).push(o),t},t},i=o(function(){return i.open.apply(null,arguments)}),a=t(document.body),r=t("#notify-sl-css");r=r.length&&r||t('<style id="notify-sl-css"></style>'),a.append(r),r.html('#notify-sl-container {padding:0;position:fixed;right:0;top:0;}#notify-sl-container:after {clear:both;content:".";display:block;height:0;visibility:hidden;}#notify-sl-container .notify-box > p {margin-bottom:1em;}#notify-sl-container .notify-box > :last-child {margin-bottom:0;}');var l=t("#notify-sl-container");return l=l.length&&l||t('<div id="notify-sl-container"></div>'),a.append(l),i.animateDuration=250,i.openBoxes={},i.style={background:document.body.style.background||"#1f1d1d",border:"1px solid #292929",color:document.body.style.color||"#FFF","margin-top":"1em",padding:"1em",position:"relative","z-index":1060},i.closeAll=function(){Object.keys(i.openBoxes).forEach(function(t){e(i.openBoxes[t])})},i.open=function(o){o=i.trigger("open",o),o.closeAll&&i.closeAll();var a=document.createElement("div"),r=t(a),c=o.callback||function(){};if(a.id=n(),a.dataset.cb=c,r.addClass("notify-box"),!o.buttons&&!o.timeout)throw new Error("Either buttons or timeout required");if(r.css(i.style),o.style&&r.css(o.style),o.data=i.trigger("data",o.data||{}),o.contents)r.append(o.contents);else{var s=document.createElement("h2"),u=document.createElement("p"),d=t(s),f=t(u);d.text(i.trigger("locale",o.title||"")),f.text(i.trigger("locale",o.message||"")),d.css({marginTop:"0"}),d.text().length&&r.append(d),f.text().length&&r.append(f)}if(o.buttons){var p=!0;t.each(o.buttons,function(n,o){var l=t(document.createElement("button"));l.addClass("btn").addClass("btn-default").text(i.trigger("locale",n)),p&&(l.addClass("btn-primary"),p=!1),l.on("click",c.bind(null,o)).on("click",function(){a.dataset.cb="",e(a)}),r.append(l)})}l.append(r),i.openBoxes[a.id]=a,r.css({left:"-100%"}).css({left:"",right:-a.offsetWidth}).css({transition:"right "+i.animateDuration+"ms ease"}),setTimeout(function(){r.css({right:"1em"}).each(function(){o.timeout&&setTimeout(function(){e(a,c.bind(null,"timeout"))},o.timeout)})},10)},i.alert=function(t,e,n,o){"function"==typeof n&&(o=n,n={}),n=n||{},i({closeAll:!1,buttons:n.timeout&&{}||{ok:!0},title:e,message:t,callback:o,data:n,timeout:n.timeout||0})},i.confirm=function(t,e,n,o){"function"==typeof n&&(o=n,n={}),n=n||{},i.open({closeAll:!0,buttons:{"labels.ok":!0,"labels.cancel":!1},title:e,message:t,callback:o,data:n})},i.prompt=function(e,n,o,a){"function"==typeof o&&(a=o,o={}),o=o||{};var r=[],l=t("<h2></h2>"),c=t("<p></p>");l.text(i.trigger("locale",n||"")),c.text(i.trigger("locale",e||""));var s=t("<form onsubmit='return false;'></form>"),u=t("<input/>");Object.keys(o).forEach(function(t){u.prop(t,o[t])}),u.prop("name","prompt"),s.addClass(""),s.append(u),l.text().length&&r.push(l),c.text().length&&r.push(c),r.push(s),i.open({closeAll:!0,buttons:{ok:!0,cancel:!1},contents:r,callback:function(t){return t?(a(u.val()),!0):(a(!1),!0)},data:o})},i});
