!function(t){"function"==typeof define&&define.amd?define(t):(this.notifysl=t(),this.notifysl)}(function(){function l(t,e){t=t.toUpperCase();var n=document.getElementById(e)||document.createElement(t);return n.id=e,document.body.appendChild(n),n}function u(t,e){delete m.openNotifications[t.id],t.element.style.right="-"+2*t.element.offsetWidth+"px",setTimeout(function(){t.element.parentNode.removeChild(t.element)},t.animationDuration||m.animationDuration)}function c(t,e){return(e=e||document.getElementById("notify-style")||(document.getElementsByClassName("card")||[])[0]||(document.getElementsByClassName("main")||[])[0]||(document.getElementsByClassName("form")||[])[0]||document.body).currentStyle?e.currentStyle[t]:document.defaultView.getComputedStyle(e)[t]}function s(t,e){return Array.isArray(e)?e.map(s.bind(null,t)):"string"==typeof e?t.innerHTML+=e:e instanceof Node&&t.appendChild(e)}var n,o,m=(o={},(n=(n=function(){return m.alert.apply(this,arguments)})||{}).on=function(t,e){return"function"!=typeof e||(o[t]=o[t]||[]).push(e),n},n.trigger=function(t,e){if(!o[t])return e;var n=this;return args=[].slice.call(arguments),args.shift(),o[t].forEach(function(t){e=t.call(n,e)}),e},n);m.animationDuration=250,m.openNotifications={},m.style={};var d=l("div","notify-sl-container");return Object.assign(d.style,{background:"transparent",position:"fixed",right:"0px",top:"0px",zIndex:1e5}),m.closeAll=function(){Object.keys(m.openNotifications).forEach(function(t){u(m.openNotifications[t])})},m.open=function(n){var o=(n=m.trigger("open",Object.assign({},n))).callback||function(){},t=n.animationDuration||m.animationDuration;n.closeAll&&m.closeAll();var i={id:function(t){t=t||8;for(var e=0;!isNaN(e);)e=Math.floor(36*Math.random()).toString(36);for(;e.length<t;)e+=Math.floor(36*Math.random()).toString(36);for(;document.getElementById(e);)e+=Math.floor(36*Math.random()).toString(36);return e}()};if(i.element=l("div",i.id),i.callback=n.callback||function(){},i.element.className+=" notify-sl-notification",i.animationDuration=t,!n.buttons&&!n.timeout)throw new Error("Either buttons or timeout required");if(i.element.style.background=c("background")||"#FFF",i.element.style.borderRadius=c("borderRadius")||"0.2em",i.element.style.boxShadow="0 1px 2px rgba(0,0,0,0.5)",i.element.style.color=c("color")||"#222",i.element.style.marginTop="1em",i.element.style.padding=c("padding")||"1em",i.element.style.position="relative",Object.assign(i.element,m.style,n.style||{}),n.data=m.trigger("data",n.data||{}),n.contents)s(i.element,n.contents);else{var e=document.createElement("h2"),a=document.createElement("p");s(e,document.createTextNode(m.trigger("locale",n.title||""))),s(a,document.createTextNode(m.trigger("locale",n.message||""))),e.style.marginTop=0,e.style.paddingTop=0,a.style.marginBottom=0,a.style.paddingBottom=0,e.innerText&&s(i.element,e),a.innerText&&s(i.element,a)}if(n.buttons){var r=!0;Object.keys(n.buttons).forEach(function(t){var e=document.createElement("button");e.className="btn btn-default",r&&(e.className+=" btn-primary",r=!1),e.innerText=m.trigger("locale",t),e.value=n.buttons[t],n.contents||(e.style.marginTop="1em"),s(i.element,e),function e(n,t,o){return Array.isArray(t)?t.map(function(t){return e(n,t,o)}):Array.isArray(o)?o.map(e.bind(null,n,t)):"function"==typeof o&&(n.addEventListener?n.addEventListener(t,o):!!n.attachEvent&&n.attachEvent("on"+t,o))}(e,"click",[o.bind(null,n.buttons[t]),u.bind(null,i)])})}s(d,i.element),(m.openNotifications[i.id]=i).element.style.right="-"+2*i.element.offsetWidth+"px",i.element.style.transition="right "+t+"ms ease",setTimeout(function(){i.element.style.right="1em",n.timeout&&setTimeout(function(){u(i,o.bind(null,"timeout"))},n.timeout+t)},10)},m.alert=function(t,e,n,o){return"function"==typeof(n=n||{})&&(o=n,n={}),m.open({animationDuration:n.animationDuration||m.animationDuration,closeAll:!1,buttons:n.timeout||n.buttons||{"labels.ok":!0},title:e,message:t,callback:o,data:n,timeout:n.timeout||0})},m.confirm=function(t,e,n,o){return"function"==typeof(n=n||{})&&(o=n,n={}),m.open({animationDuration:n.animationDuration||m.animationDuration,closeAll:!1,buttons:n.buttons||{"labels.ok":!0,"labels.cancel":!1},title:e,message:t,callback:o,data:n})},m.prompt=function(t,e,n,o){"function"==typeof(n=n||{})&&(o=n,n={});var i=[],a=document.createElement("h2"),r=document.createElement("p");s(a,document.createTextNode(m.trigger("locale",e||""))),s(r,document.createTextNode(m.trigger("locale",t||"")));var l=document.createElement("form"),u=document.createElement("input");return l.setAttribute("onsubmit","return false;"),Object.keys(n).forEach(function(t){u.setAttribute(t,n[t])}),u.setAttribute("name","prompt"),s(l,u),a.innerHTML&&i.push(a),r.innerHTML&&i.push(r),i.push(l),m.open({animationDuration:n.animationDuration||m.animationDuration,closeAll:!0,buttons:n.buttons||{"labels.ok":!0,"labels.cancel":!1},contents:i,data:n,callback:function(t){return o(!!t&&u.value),!!t}})},m});
