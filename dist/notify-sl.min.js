!function(e){"function"==typeof define&&define.amd?define(e):(this.notifysl=e(),this.notifysl)}(function(){function l(e,t){e=e.toUpperCase();var n=document.getElementById(t)||document.createElement(e);return n.id=t,document.body.appendChild(n),n}function c(e,t){delete m.openNotifications[e.id],e.element.style.right="-"+2*e.element.offsetWidth+"px",setTimeout(function(){e.element.parentNode.removeChild(e.element)},e.animationDuration||m.animationDuration)}function u(e,t){return(t=t||document.getElementById("notify-style")||(document.getElementsByClassName("card")||[])[0]||(document.getElementsByClassName("main")||[])[0]||(document.getElementsByClassName("form")||[])[0]||document.body).currentStyle?t.currentStyle[e]:document.defaultView.getComputedStyle(t)[e]}function s(e,t){return Array.isArray(t)?t.map(s.bind(null,e)):"string"==typeof t?e.innerHTML+=t:t instanceof Node&&e.appendChild(t)}var n,o,m=(o={},(n=(n=function(){return m.alert.apply(this,arguments)})||{}).on=function(e,t){return"function"!=typeof t||(o[e]=o[e]||[]).push(t),n},n.trigger=function(e,t){if(!o[e])return t;t=t||!0;var n=this;return args=[].slice.call(arguments),args.shift(),o[e].forEach(function(e){t=e.call(n,t)}),t},n);m.animationDuration=250,m.openNotifications={},m.style={};var d=l("div","notify-sl-container");return Object.assign(d.style,{background:"transparent",position:"fixed",right:"0px",top:"0px"}),m.closeAll=function(){Object.keys(m.openNotifications).forEach(function(e){c(m.openNotifications[e])})},m.open=function(n){var o=(n=m.trigger("open",Object.assign({},n))).callback||function(){},e=n.animationDuration||m.animationDuration;n.closeAll&&m.closeAll();var i={id:function(e){e=e||8;for(var t=0;!isNaN(t);)t=Math.floor(36*Math.random()).toString(36);for(;t.length<e;)t+=Math.floor(36*Math.random()).toString(36);for(;document.getElementById(t);)t+=Math.floor(36*Math.random()).toString(36);return t}()};if(i.element=l("div",i.id),i.callback=n.callback||function(){},i.element.className+=" notify-box",i.animationDuration=e,!n.buttons&&!n.timeout)throw new Error("Either buttons or timeout required");if(i.element.style.background=u("background")||"#FFF",i.element.style.borderRadius=u("borderRadius")||"0.2em",i.element.style.boxShadow="0 1px 2px rgba(0,0,0,0.5)",i.element.style.color=u("color")||"#222",i.element.style.marginTop="1em",i.element.style.padding=u("padding")||"1em",i.element.style.position="relative",Object.assign(i.element,m.style,n.style||{}),n.data=m.trigger("data",n.data||{}),n.contents)s(i.element,n.contents);else{var t=document.createElement("h2"),a=document.createElement("p");s(t,document.createTextNode(m.trigger("locale",n.title||""))),s(a,document.createTextNode(m.trigger("locale",n.message||""))),t.style.marginTop=0,a.style.marginBottom=0,t.innerHTML&&s(i.element,t),a.innerHTML&&s(i.element,a)}if(n.buttons){var r=!0;Object.keys(n.buttons).forEach(function(e){var t=document.createElement("button");t.className="btn btn-default",r&&(t.className+=" btn-primary",r=!1),t.innerText=m.trigger("locale",e),t.value=n.buttons[e],n.contents||(t.style.marginTop="1em"),s(i.element,t),function t(n,e,o){return Array.isArray(e)?e.map(function(e){return t(n,e,o)}):Array.isArray(o)?o.map(t.bind(null,n,e)):"function"==typeof o&&(n.addEventListener?n.addEventListener(e,o):!!n.attachEvent&&n.attachEvent("on"+e,o))}(t,"click",[o.bind(null,n.buttons[e]),c.bind(null,i)])})}s(d,i.element),(m.openNotifications[i.id]=i).element.style.right="-"+2*i.element.offsetWidth+"px",i.element.style.transition="right "+e+"ms ease",setTimeout(function(){i.element.style.right="1em",n.timeout&&setTimeout(function(){c(i,o.bind(null,"timeout"))},n.timeout+e)},10)},m.alert=function(e,t,n,o){return"function"==typeof(n=n||{})&&(o=n,n={}),m.open({closeAll:!1,buttons:n.timeout||n.buttons||{"labels.ok":!0},title:t,message:e,callback:o,data:n,timeout:n.timeout||0})},m.confirm=function(e,t,n,o){return"function"==typeof(n=n||{})&&(o=n,n={}),m.open({closeAll:!1,buttons:n.buttons||{"labels.ok":!0,"labels.cancel":!1},title:t,message:e,callback:o,data:n})},m.prompt=function(e,t,n,o){"function"==typeof(n=n||{})&&(o=n,n={});var i=[],a=document.createElement("h2"),r=document.createElement("p");s(a,document.createTextNode(m.trigger("locale",t||""))),s(r,document.createTextNode(m.trigger("locale",e||"")));var l=document.createElement("form"),c=document.createElement("input");return l.setAttribute("onsubmit","return false;"),Object.keys(n).forEach(function(e){c.setAttribute(e,n[e])}),c.setAttribute("name","prompt"),s(l,c),a.innerHTML&&i.push(a),r.innerHTML&&i.push(r),i.push(l),m.open({closeAll:!0,buttons:n.buttons||{"labels.ok":!0,"labels.cancel":!1},contents:i,data:n,callback:function(e){return o(!!e&&c.value),!!e}})},m});
